# stock-quadrant-based-on-trend
Identify market leaders and laggards with a model that classifies a stock's trend into distinct phases (e.g., Superuptrend, Sideway, Crash Trend) based on momentum and key moving averages.

# Stock Quadrant Divining based on Trend

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡πá‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏≥‡πÅ‡∏ô‡∏Å‡∏†‡∏≤‡∏ß‡∏∞‡∏ï‡∏•‡∏≤‡∏î‡∏´‡∏∏‡πâ‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô 5 ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏´‡∏•‡∏±‡∏Å  
- **Super Bullish**
- **Uptrend**
- **Sideway**
- **Downtrend**
- **Crash**

‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:
1. ‡∏ö‡∏≠‡∏Å **Trend Regime ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô**
2. ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ **Action** (Buy / Hold / Sell / Avoid)
3. ‡πÉ‡∏´‡πâ **‡∏Ñ‡πà‡∏≤ EMA ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏∏‡πâ‡∏ô‡∏ô‡∏±‡πâ‡∏ô ‡πÜ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•

---

## üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö
- **Trend Regime ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ**: ‡∏ö‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (Super Bullish / Uptrend / Sideway / Downtrend / Crash)
- **Action**: Buy / Hold / Sell / Avoid
- **EMA ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°**: ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Ñ‡πà‡∏≤ EMA_short ‡πÅ‡∏•‡∏∞ EMA_long ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö‡∏´‡∏∏‡πâ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ï‡∏±‡∏ß

---

## üõ† Roadmap ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤ (12 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô)

### 1) ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï
- ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô (Daily OHLCV)
- ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ï‡∏•‡∏≤‡∏î‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á (‡πÄ‡∏ä‡πà‡∏ô SET, SET100, S&P500)
- ‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 5‚Äì10 ‡∏õ‡∏µ

### 2) ‡∏î‡∏∂‡∏á‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•: Yahoo Finance ‡∏´‡∏£‡∏∑‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏†‡∏≤‡∏¢‡πÉ‡∏ô
- ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î, ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏ï‡∏•‡∏≤‡∏î, ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Return ‡πÅ‡∏•‡∏∞ Log-Return

### 3) ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î‡∏´‡∏•‡∏±‡∏Å (Indicators)
- EMA ‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡πà‡∏ß‡∏á (5, 21, 50, 100, 200)
- ADX(14)
- ATR(14) ‡πÅ‡∏•‡∏∞ ATR%
- Bollinger Band Width (20, 2œÉ)
- RSI(14)
- Slope ‡∏Ç‡∏≠‡∏á log-price (OLS regression 20 ‡πÅ‡∏•‡∏∞ 60 ‡∏ß‡∏±‡∏ô)
- Realized Volatility (20 ‡∏ß‡∏±‡∏ô)
- Max Drawdown (60‚Äì120 ‡∏ß‡∏±‡∏ô)

### 4) ‡∏ô‡∏¥‡∏¢‡∏≤‡∏°‡∏â‡∏•‡∏≤‡∏Å (Labels) ‚Äì Quadrant + Crash
‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì:
- **S** = 0.6¬∑slope(20) + 0.4¬∑slope(60)
- **V** = Realized Volatility 20 ‡∏ß‡∏±‡∏ô (‡∏´‡∏£‡∏∑‡∏≠ ATR%)
- **DD** = Max Drawdown 60‚Äì120 ‡∏ß‡∏±‡∏ô
- ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡πÑ‡∏ó‡∏•‡πå‡∏£‡∏≤‡∏¢‡∏´‡∏∏‡πâ‡∏ô (p10, p30, p40, p60, p70, p80)

‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô:
- Crash: `S ‚â§ p10` ‡πÅ‡∏•‡∏∞ `V ‚â• p70` ‡πÅ‡∏•‡∏∞ `DD ‚â• 20%`
- Downtrend: `S ‚â§ p30` ‡πÅ‡∏•‡∏∞ `‡∏£‡∏≤‡∏Ñ‡∏≤ < EMA_long` ‡πÅ‡∏•‡∏∞ `ADX ‚â• 20`
- Sideway: `|S| ‚â§ p40` ‡πÅ‡∏•‡∏∞ `ADX < 20` ‡πÅ‡∏•‡∏∞ `BandWidth ‚â§ p40`
- Uptrend: `S ‚â• p60` ‡πÅ‡∏•‡∏∞ `‡∏£‡∏≤‡∏Ñ‡∏≤ > EMA_long` ‡πÅ‡∏•‡∏∞ `ADX ‚â• 20`
- Super Bullish: `S ‚â• p80` ‡πÅ‡∏•‡∏∞ `EMA50 > EMA200` ‡πÅ‡∏•‡∏∞ `ADX ‚â• 25`

### 5) Baseline Rule-based
- ‡πÉ‡∏ä‡πâ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠ 4 + ‡∏ü‡∏¥‡∏•‡πÄ‡∏ï‡∏≠‡∏£‡πå RSI > 50
- ‡∏™‡∏£‡πâ‡∏≤‡∏á confusion matrix ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û

### 6) ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏°‡πÄ‡∏î‡∏• ML (‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å)
- ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå: S, V, DD, EMA distance, Cross flags, ADX, RSI, BandWidth, Volume z-score, Market Regime
- ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: XGBoost, LightGBM, Random Forest, HMM, LSTM
- ‡πÉ‡∏ä‡πâ Time-series CV ‡πÅ‡∏ö‡∏ö walk-forward + purged/embargo

### 7) Action Policy
- **Buy**: Regime = Super Bullish / Uptrend + ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏´‡∏ô‡∏∑‡∏≠ EMA_short ‡πÅ‡∏•‡∏∞ EMA_short > EMA_long + ADX ‚â• 20
- **Hold**: ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÉ‡∏ô Super Bullish / Uptrend
- **Sell / Reduce**: Regime = Downtrend / Crash ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏¥‡∏î‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ EMA_long 2 ‡∏ß‡∏±‡∏ô‡∏ï‡∏¥‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏•‡∏∏‡∏î Trailing Stop
- **Avoid**: Sideway (‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ momentum strategy)

### 8) ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å EMA ‡∏£‡∏≤‡∏¢‡∏´‡∏∏‡πâ‡∏ô
- ‡∏ß‡∏±‡∏î Median ATR% ‚Üí ‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏±‡∏ô‡∏ú‡∏ß‡∏ô
- Low Vol (‚â§1.5%): short={5,8,10,12}, long={20,30,40,50}
- Mid Vol (1.5‚Äì3%): short={8,10,12,14,18}, long={30,40,50,100}
- High Vol (‚â•3%): short={13,21,34}, long={50,100,150,200}
- ‡πÉ‡∏ä‡πâ Grid Search ‡πÅ‡∏ö‡∏ö Walk-Forward ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏π‡πà EMA ‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ Sharpe ‡πÅ‡∏•‡∏∞ MaxDD ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î

### 9) ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á
- ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≠‡∏î‡∏µ‡∏• ‚â§ 0.5‚Äì1% ‡∏Ç‡∏≠‡∏á‡∏û‡∏≠‡∏£‡πå‡∏ï
- Stop Loss: 1.5‚Äì2.5¬∑ATR ‡πÉ‡∏ï‡πâ‡∏à‡∏∏‡∏î‡πÄ‡∏Ç‡πâ‡∏≤
- Max Exposure ‡∏ï‡πà‡∏≠‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°
- ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÉ‡∏Å‡∏•‡πâ‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

### 10) Backtest
- Walk-Forward (Train 3 ‡∏õ‡∏µ ‚Üí Test 6‚Äì12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)
- ‡∏Ñ‡∏¥‡∏î‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡πÅ‡∏•‡∏∞‡∏™‡∏•‡∏¥‡∏õ‡πÄ‡∏û‡∏à
- ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô: CAGR, Sharpe, Sortino, MaxDD, Hit Ratio, Profit Factor

### 11) Explainability
- Feature Importance / SHAP
- ‡∏Å‡∏£‡∏≤‡∏ü‡∏£‡∏≤‡∏Ñ‡∏≤ + EMA + ‡∏à‡∏∏‡∏î‡πÄ‡∏Ç‡πâ‡∏≤/‡∏≠‡∏≠‡∏Å + ‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏≤‡∏° Regime

### 12) Deliverables
- Notebook ‡∏ù‡∏∂‡∏Å‡πÇ‡∏°‡πÄ‡∏î‡∏• + Backtest
- Script / CLI / Dashboard
- PDF ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô

---

## üìä ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô Regime (Quadrant + Crash)
| Regime          | Slope (S)       | Volatility (V) | ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡πÄ‡∏û‡∏¥‡πà‡∏° |
|-----------------|-----------------|----------------|----------------|
| Crash           | S ‚â§ p10         | V ‚â• p70        | DD ‚â• 20%       |
| Downtrend       | S ‚â§ p30         | -              | ‡∏£‡∏≤‡∏Ñ‡∏≤ < EMA_long & ADX ‚â• 20 |
| Sideway         | |S| ‚â§ p40       | -              | ADX < 20 & BandWidth ‚â§ p40 |
| Uptrend         | S ‚â• p60         | -              | ‡∏£‡∏≤‡∏Ñ‡∏≤ > EMA_long & ADX ‚â• 20 |
| Super Bullish   | S ‚â• p80         | -              | EMA50 > EMA200 & ADX ‚â• 25 |

---

## ‚ö† ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á
- ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á **Look-ahead bias / Data leakage**
- ‡∏£‡∏∞‡∏ß‡∏±‡∏á **Overfitting**
- ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ survivorship bias ‡∏ï‡πà‡∏≥‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
- Class imbalance: Crash ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡πâ‡∏≠‡∏¢ ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å

---

## üìÇ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå
